<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
    "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
     xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
     xsi:schemaLocation="http://www.w3.org/MarkUp/SCHEMA/xhtml11.xsd"
     xml:lang="en">
  <head>
    <title>Information Center for ARM</title>
    <meta http-equiv="Content-Type" content="application/xhtml+xml; charset=utf-8" />
    <link type="text/css" rel="stylesheet" media="all" href="file://$TOOLKIT_DIR$/doc/infocenter/style/ewic.css" />
  </head>
  <body>
  <div id="topbanner"></div>
  <div id="titlebanner_small">
    <h2>Information Center for ARM</h2>
  </div>
  <div class="breadcrumb"><a href="$TOOLKIT_DIR$/doc/infocenter/index.ENU.html">Information Center for ARM</a> | EXAMPLES</div>
  <div class="mainblock">
   <h2>Example description</h2>

   <pre>  <!--Insert readme.txt-->
<span style="font-family: monospace;">
	Compute the 8-bit CRC value of a message

	Example Description

This example aims to show how to use the CRC peripheral in order to compute
8-bit CRC checksum of a message.
The CRC peripheral is configured to use the 8-bit CRC polynomial x8 + x7 + x6 + x4 + x2 + 1
with the initialization value is set to 0.
The message is declared as an array and labeled "CRCBuffer".
The expected CRC value is already computed using an on line CRC tool.
Once the CRC value is computed, the computed CRC value is compared to the expected
one. In case of match the green led LD1 is turned on. Otherwise the led LD3 is turned on.

	Directory contents

  - CRC/CRC_8BitsCRCMessage/stm32f0xx_conf.h    Library Configuration file
  - CRC/CRC_8BitsCRCMessage/stm32f0xx_it.c      Interrupt handlers
  - CRC/CRC_8BitsCRCMessage/stm32f0xx_it.h      Interrupt handlers header file
  - CRC/CRC_8BitsCRCMessage/main.c              Main program
  - ADC/CRC_8BitsCRCMessage/main.h              Main program  header file
  - CRC/CRC_8BitsCRCMessage/system_stm32f0xx.c  STM32F0xx system source file

 note The "system_stm32f0xx.c" is generated by an automatic clock configuration
      system and can be easily customized to your own configuration.
      To select different clock setup, use the "STM32F0xx_Clock_Configuration_V1.0.0.xls"
      provided with the AN4152 package available on <a href="http://www.st.com">ST website</a>

	Hardware and Software environment

  - This example runs on STM32F072 Devices.

  - This example has been tested with STMicroelectronics STM32072B-EVAL including
    STM32F072VBT6 device and can be easily tailored to any other supported device
    and development board.

  - STM32072B-EVAL Set-up
    - LD1 and LD3 are used in this example

	How to use it ?

In order to make the program work, you must do the following :
 - Copy all source files from this example folder to the template folder under
   Project\STM32F0xx_StdPeriph_Templates
 - Open your preferred toolchain and choose STM32F072 project
     - Add the following files to the project source list
       - Utilities\STM32_EVAL\STM32072B_EVAL\stm32072b_eval.c
 - Rebuild all files and load your image into target memory
 - Run the example

***********************************************************************************

	Compute the 32-bit CRC value of a message

	Example Description

This example aims to show how to use the CRC peripheral in order to compute
32-bit CRC checksum of a message.
The CRC peripheral is configured to use the 32-bit CRC polynomial
X32 + X26 + X23 + X22 + X16 + X12 + X11 + X10 +X8 + X7 + X5 + X4 + X2+ X +1
with the initialization value set to 0.
The message is declared as an array and labeled "CRCBuffer".
Once the CRC value is computed, the computed CRC value is compared to the expected
one. In case of match the green led LD1 is turned on. Otherwise the led LD3 is turned on.


	Directory contents

  - CRC/CRC_32BitsCRCMessage/stm320xx_conf.h     Library Configuration file
  - CRC/CRC_32BitsCRCMessage/stm32f0xx_it.c      Interrupt handlers
  - CRC/CRC_32BitsCRCMessage/stm32f0xx_it.h      Interrupt handlers header file
  - CRC/CRC_32BitsCRCMessage/main.c              Main program
  - ADC/CRC_32BitsCRCMessage/main.h              Main program  header file
  - CRC/CRC_32BitsCRCMessage/system_stm32f0xx.c  STM32F0xx system source file

 note The "system_stm32f0xx.c" is generated by an automatic clock configuration
      system and can be easily customized to your own configuration.
      To select different clock setup, use the "STM32F0xx_Clock_Configuration_VX.Y.Z.xls"
      provided with the AN4152 package available on <a href="http://www.st.com">ST website</a>

	Hardware and Software environment

  - This example runs on STM32F0xx Devices.

  - This example has been tested with STMicroelectronics STM320518-EVAL and
    STM32072B-EVAL including respectively STM32F051R8T6 and STM32F072VBT6 devices
    and can be easily tailored to any other supported device and development board.

  - STM320518-EVAL Set-up
    - LD1 and LD3 are used in this example.

  - STM32072B-EVAL Set-up
    - LD1 and LD3 are used in this example.

	How to use it ?

In order to make the program work, you must do the following :
 - Copy all source files from this example folder to the template folder under
   Project\STM32F0xx_StdPeriph_Templates
 - Open your preferred toolchain
 - If the used device is STM32F051R8T6 choose STM32F051 project
    - Add the following files to the project source list
       - Utilities\STM32_EVAL\STM320518_EVAL\stm320518_eval.c
 - If the used device is STM32F072VBT6 choose STM32F072 project
    - Add the following files to the project source list
       - Utilities\STM32_EVAL\STM32072B_EVAL\stm32072b_eval.c
 - Rebuild all files and load your image into target memory
 - Run the example

***********************************************************************************

	 USART Communication Boards with CRC checksum example

	Example Description

This example aims to show how to verify CRC checksum while USART communication
between two STM32F0xx boards.

- Hardware Description

To use this example, you need to load it on two STM32F0xx boards (STM32072B-Eval)
(let's call them Board A and Board B) then connect these two boards through UART
lines and GND.

In the firmware example uncomment the dedicated line in the main.h file to use
the USART peripheral as TRANSMITTER device or as RECEIVER device.

- The connection between the pins should use a common Ground.

*------------------------------------------------------------------------------*
|                BOARD A                                BOARD B                |
|         ____________________                   ____________________          |
|        |                    |                 |                    |         |
|        |     TRANSMITTER    |                 |      RECEIVER       |         |
|        |     __________     |                 |     __________     |         |
|        |    |   USART  |____|TX_____________RX|____|   USART  |    |         |
|        |    |  Device1 |____|RX_____________TX|____|  Device2 |    |         |
|        |    |__________|    |                 |    |__________|    |         |
|        |                    |                 |                    |         |
|        |  O LD1             |                 |  O LD1             |         |
|        |  O LD2    Joystick |                 |  O LD2    Joystick |         |
|        |  O LD3        _    |                 |  O LD3        _    |         |
|        |              |_|   |                 |              |_|   |         |
|        |                    |                 |                    |         |
|        |             GND O--|-----------------|--O GND             |         |
|        |____________________|                 |____________________|         |
|                                                                              |
|                                                                              |
*------------------------------------------------------------------------------*

- Software Description

The CRC peripheral is configured to use the 8-bit CRC polynomial x8 + x7 + x6 + x4 + x2 + 1
with the initialization value is set to 0.

On Board A, at each joystick SEL button press:

- The USART Board A sends data already defined in TxBuffer.

- CRC value is computed during USART data transfer.

- After computing CRC of latest transferred byte, TxBuffer is updated with final CRC value.

- The USART Board A sends latest byte which is the final computed CRC value.

On Board B,

- The USART Board B receives the data (data + CRC value) in RxBuffer.

- CRC value of received data are computed in Board B and compared with the received one.

  CRC checksum result is signaled by LED lightening as following:
    - CRC received and computed values are equal ==> LD2 toggles, LED3 OFF.
    - CRC received and computed values are not equal ==> LD2 Off, LED3 ON.

The SysTick is configured to generate interrupt each 10ms. A dedicated counter
inside the SysTick ISR is used to toggle the LD1 each 100ms indicating that the
firmware is running.

These operations can be repeated infinitely.

	Directory contents

  - CRC/CRC_TwoBoards/stm32f0xx_conf.h    Library Configuration file
  - CRC/CRC_TwoBoards/stm32f0xx_it.c      Interrupt handlers
  - CRC/CRC_TwoBoards/stm32f0xx_it.h      Interrupt handlers header file
  - CRC/CRC_TwoBoards/main.c              Main program
  - CRC/CRC_TwoBoards/main.h              Main program header file
  - CRC/CRC_TwoBoards/system_stm32f0xx.c  STM32F0xx system source file

 note The "system_stm32f0xx.c" is generated by an automatic clock configuration
      system and can be easily customized to your own configuration.
      To select different clock setup, use the "STM32F0xx_Clock_Configuration_V1.0.0.xls"
      provided with the AN4152 package available on <a href="http://www.st.com">ST website</a>

	Hardware and Software environment

  - This example runs on STM32F072 Devices.

  - This example has been tested with STMicroelectronics STM32072B-EVAL (STM32F0xx)
    evaluation board and can be easily tailored to any other supported device
    and development board.

  - STM32072B-EVAL Set-up
    - Use The Joystick SEL button [PA.0]
    - Connect USART2 TX pin (PD.05) to USART2 RX pin (PD.06)
    - Connect USART2 RX pin (PD.06) to USART2 TX pin (PD.05)

	How to use it ?

In order to make the program work, you must do the following :
 - Copy all source files from this example folder to the template folder under
   Project\STM32F0xx_StdPeriph_Templates
 - Open your preferred toolchain
 - Add the following files to the project source list
     - Utilities\STM32_EVAL\STM32072B_EVAL\stm32072b_eval.c
 - Rebuild all files and load your image into target memory
 - Run the example
   </span>
</pre>
  </div>
  </body>
</html>

